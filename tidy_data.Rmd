this documnet will show how to tidy data.



## examples of pivot_longer
```{r}
library(haven)
pulse_df = 
  haven::read_sas("data/public_pulse_data.sas7bdat") |>
  janitor::clean_names()

```

This needs to go from wide to long format.

```{r}
pulse_tify_df = 
    pulse_df |>
    pivot_longer(
      cols= bdi_score_bl:bdi_score_12m,
      names_to = "visit",
      values_to = "bdi_score",
      names_prefix = "bdi_score_"
    ) |>
    mutate(
      visit = replace(visit, visit == "bl", "00m")
    )
```


Do one more example
```{r}
litters_df = 
  read_csv("data/FAS_litters.csv", na = c("NA", "",".")) |>
  janitor::clean_names() |>
  pivot_longer(
    cols = gd0_weight:gd18_weight,
    names_to = "gd_time",
    values_to = "weight"
  ) |>
    mutate(
      gd_time = case_match(
        gd_time,
        "gd0_weight" ~ 0,
        "gd18_weight" ~ 18
      )
    )
```


##pivot wider
make analysis result table.

```{r}
analysis_df = 
  tibble(
    group = c("treatment", "treatment","control","control"),
    time = c("pre","post","pre", "post"),
    mean = c(4,10,4.2, 5)
    
  )
```
